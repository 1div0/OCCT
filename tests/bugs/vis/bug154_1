puts "========"
puts "OCC154"
puts "========"
puts ""
##############################################################
##puts "Checking of functions V2DERASEALL and V2DDISPLAYALL "
##puts "(visual checking for this case is desirable)"
##############################################################
v2dinit

box b 1 1 1 
box b1 10 10 10 1 1 1 
v2ddisplay b
v2ddisplay b1
v2dfit

v2deraseall

set color1 [QAAISGetPixelColor2d 370 37]
regexp {RED +: +([-0-9.+eE]+)} $color1 full rd1
regexp {GREEN +: +([-0-9.+eE]+)} $color1 full gr1
regexp {BLUE +: +([-0-9.+eE]+)} $color1 full bl1

if { ${rd1} != 0 || ${gr1} != 0 || ${bl1} != 0 } {
    puts "Error : colors are not equal"
    puts "Error : Object was not erased"
}

v2ddisplayall

set color2 [QAAISGetPixelColor2d 370 37]
regexp {RED +: +([-0-9.+eE]+)} $color2 full rd2
regexp {GREEN +: +([-0-9.+eE]+)} $color2 full gr2
regexp {BLUE +: +([-0-9.+eE]+)} $color2 full bl2

if { ${rd2} != 1 || ${gr2} != 1 || ${bl1} != 0 } {
    puts "Error : colors are not equal"
    puts "Error : Object was not displayed"
}

set only_screen2d 1
