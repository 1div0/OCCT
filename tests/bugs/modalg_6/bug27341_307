puts "============"
puts "OCC27341"
puts "============"
puts ""
######################################################
# Incorrect exact HLR results
######################################################

pload XDE
pload QAcommands

testreadstep [locate_data_file bug27341_AIF_Grundhalter_GR1_CAD.stp] a

set viewname "right"

smallview
top
clear

OCC27341 result a ${viewname}
build3d result

fit

# 0027526: Excess micro-edge in HLR visualization of a torus
if { [regexp {Windows} [dversion]] } {
   checkprops result -l 2377.14
   checknbshapes result -vertex 1008 -edge 507
} else {
   checkprops result -l 2345.73
   checknbshapes result -vertex 1007 -edge 506
}

checkview -screenshot -2d -path ${imagedir}/${test_image}.png
