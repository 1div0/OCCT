puts "============"
puts "OCC27341"
puts "============"
puts ""
######################################################
# Incorrect exact HLR results
######################################################

pload QAcommands

restore [locate_data_file bug27341_save.brep] a

set viewname "bottom"

smallview
top
clear

OCC27341 result a ${viewname}
build3d result

fit

checkprops result -l 334.113

# 0027526: Excess micro-edge in HLR visualization of a torus
if { [regexp {Windows} [dversion]] } {
   checknbshapes result -vertex 24 -edge 12
} else {
   checknbshapes result -vertex 26 -edge 13
}

checkview -screenshot -2d -path ${imagedir}/${test_image}.png
