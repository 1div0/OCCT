puts "TODO OCC12345 ALL: Tcl Exception: Error: file BUC60827d.brep could not be found"
puts "TODO OCC12345 ALL: TEST INCOMPLETE"

puts "========================"                                                 
puts "BUC60827"                                                                 
puts "========================"                                                 
                                                                 
#restore Model3-a.brep a
restore [locate_data_file BUC60827c.brep] a 

#restore Model3-b.brep b
restore [locate_data_file BUC60827d.brep] b

set che [checkshape a]
if { [regexp {Faulty} $che ] == 1 } {
    puts "Faulty BUC60827 (shape 1): Source shape is invalid. It was detected by Checkshape command"
    puts "Body of the script was NOT executed"
    renamevar a result
} else {
    puts "BUC60827 OK (shape 1): Source shape is valid"

    set che [checkshape b]
    if { [regexp {Faulty} $che ] == 1 } {
	puts "Faulty BUC60827 (shape 2): Source shape is invalid. It was detected by Checkshape command"
	puts "Body of the script was NOT executed"
	renamevar b result
    } else {
	puts "BUC60827 OK (shape 2): Source shape is valid"

	bsection result a b
	set rlen 0
	set rlen [llength [explode res v]]
	if ([expr $rlen  == 0]) {
	    puts "Faulty :The result of section is an empty compound."
	} else {
	    distmini d1 res_1 a_1    
	    regexp {([-0-9.+eE]+)$} [dump d1_val] full len1
            if ([expr $len1 > 1e-7]) {                                                       
        	puts "Faulty :The section is incomplite."                                           
	    } else {                                                                              
		distmini d2 res_2 a_2
		regexp {([-0-9.+eE]+)$} [dump d2_val] full len2
                if ([expr $len2 > 1e-7]) {
            	    puts "Faulty :The section is incomplite."
		}
	    }
	}
    }
}

set length 0
set 2dviewer 0
