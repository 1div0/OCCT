puts "TODO OCC12345 ALL: Tcl Exception: Error: file BUC60853_plane.brep could not be found"
puts "TODO OCC12345 ALL: TEST INCOMPLETE"

puts "========"
puts "BUC60853"
puts "========"
puts ""
###############################################################################
##The exception Standard_NumericError is generated in the function TopOpeBRepTool_CurveTool::MakeCurves(). 
## The error occurs only when approximate mode is switched on. The command in draw is : 
## > section res err_face.brep err_plane.brep -a 
###############################################################################

restore [locate_data_file BUC60853_face.brep] face 
restore [locate_data_file BUC60853_plane.brep] plane
puts [checkshape face]
puts [checkshape plane]

bsection result face plane -a


# set text [nbshapes  res]
# set ver [lindex $text 7]
# set edg [lindex $text 10]
# set com [lindex $text 28]

set nb_info [nbshapes result]
regexp {VERTEX +: +([-0-9.+eE]+)} $nb_info full ver
regexp {EDGE +: +([-0-9.+eE]+)} $nb_info full edg

# if { $com != 0} {
# puts " Faulty BUC60853: Result shape is COMPOUND, but it must be edge "
# set make_photo 0
# } else {
if { $edg != 1} {
    puts " Faulty BUC60853: Result shape contains more than one edge "
    explode res v 
} else {
    if { $ver < 2} {
	puts " Faulty BUC60853: Result edge contains less than two vertexes."
	explode res v 
    } else {
	puts " BUC60853 OK: Result of section operation is correct "
	explode res v
    }
}
#}
set length 0
set 2dviewer 0
